!function(t){t.fn.lunaMenu=function(e){function i(e){e.addClass("root"),e.addClass("luna-menu-dropdown"),e.find("ul").each(function(){t(this).addClass("submenu")}),l(e,1),e.find("li").on("mouseover",n),e.find("li").on("mouseout",o)}function n(e){var i=t(this).find("ul").first();i.hasClass("active")||(t(this).parent().hasClass("root")&&t(this).closest(".root").find("ul.active").removeClass("active"),ulLeft=0,ulTop=0,parentElWidth=t(this).outerWidth(!0),parentElHeight=t(this).outerHeight(!0),parentElPos=t(this).position(),parentElOffest=t(this).offset(),winWidth=t(window).width(),a.vertical||!i.hasClass("level-1")||i.hasClass("active")?(parentElOffest.left+parentElWidth+i.outerWidth(!0)>winWidth&&(a.openDirection="left"),parentElOffest.left-i.outerWidth(!0)<0&&(a.openDirection="right"),"right"!==a.openDirection?ulLeft=parentElPos.left-i.outerWidth(!0):ulLeft=parentElPos.left+parentElWidth,ulTop=parentElPos.top):(ulLeft=parentElPos.left,ulTop=parentElPos.top+parentElHeight),i.addClass("active").css({position:"absolute","z-index":"900",left:ulLeft,top:ulTop}))}function o(e){e.stopPropagation(),t(this).find("ul.active").removeClass("active")}function l(e,i){e.children("li").children("ul").each(function(){t(this).addClass("level-"+i),l(t(this),i+1)})}function s(e){0===t(e.target).parents(".luna-menu-dropdown").length&&t(".luna-menu-dropdown").find("ul.active").removeClass("active")}var a=t.extend({vertical:!0,mouseover:!0,openDirection:"right"},e);return t("body, html").on("click",s),this.each(function(){i(t(this))})}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImx1bmEtbWVudS5taW4uanMiXSwibmFtZXMiOlsiJCIsImZuIiwibHVuYU1lbnUiLCJvcHRpb25zIiwiaW5pdEx1bmFNZW51IiwiZWwiLCJhZGRDbGFzcyIsImZpbmQiLCJlYWNoIiwidGhpcyIsInNldENoaWxkTGV2ZWwiLCJvbiIsIk1vdXNlT3ZlciIsIk1vdXNlT3V0IiwiZSIsInVsIiwiZmlyc3QiLCJoYXNDbGFzcyIsInBhcmVudCIsImNsb3Nlc3QiLCJyZW1vdmVDbGFzcyIsInVsTGVmdCIsInVsVG9wIiwicGFyZW50RWxXaWR0aCIsIm91dGVyV2lkdGgiLCJwYXJlbnRFbEhlaWdodCIsIm91dGVySGVpZ2h0IiwicGFyZW50RWxQb3MiLCJwb3NpdGlvbiIsInBhcmVudEVsT2ZmZXN0Iiwib2Zmc2V0Iiwid2luV2lkdGgiLCJ3aW5kb3ciLCJ3aWR0aCIsInNldHRpbmdzIiwidmVydGljYWwiLCJsZWZ0Iiwib3BlbkRpcmVjdGlvbiIsInRvcCIsImNzcyIsInotaW5kZXgiLCJzdG9wUHJvcGFnYXRpb24iLCJlbGVtZW50cyIsImx2bCIsImNoaWxkcmVuIiwiYW55Q2xpY2siLCJldmVudCIsInRhcmdldCIsInBhcmVudHMiLCJsZW5ndGgiLCJleHRlbmQiLCJtb3VzZW92ZXIiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBQ1RBLEVBQUVDLEdBQUdDLFNBQVcsU0FBVUMsR0FTekIsUUFBU0MsR0FBYUMsR0FDckJBLEVBQUdDLFNBQVMsUUFDWkQsRUFBR0MsU0FBUyxzQkFHWkQsRUFBR0UsS0FBSyxNQUFNQyxLQUFLLFdBQ2xCUixFQUFFUyxNQUFNSCxTQUFTLGFBSWxCSSxFQUFjTCxFQUFJLEdBR2xCQSxFQUFHRSxLQUFLLE1BQU1JLEdBQUcsWUFBYUMsR0FDOUJQLEVBQUdFLEtBQUssTUFBTUksR0FBRyxXQUFZRSxHQUc5QixRQUFTRCxHQUFVRSxHQUVsQixHQUFJQyxHQUFLZixFQUFFUyxNQUFNRixLQUFLLE1BQU1TLE9BRXpCRCxHQUFHRSxTQUFTLFlBRVpqQixFQUFFUyxNQUFNUyxTQUFTRCxTQUFTLFNBQzVCakIsRUFBRVMsTUFBTVUsUUFBUSxTQUFTWixLQUFLLGFBQWFhLFlBQVksVUFHeERDLE9BQVMsRUFDVEMsTUFBUSxFQUNSQyxjQUFnQnZCLEVBQUVTLE1BQU1lLFlBQVcsR0FDbkNDLGVBQWlCekIsRUFBRVMsTUFBTWlCLGFBQVksR0FDckNDLFlBQWMzQixFQUFFUyxNQUFNbUIsV0FDdEJDLGVBQWlCN0IsRUFBRVMsTUFBTXFCLFNBQ3pCQyxTQUFXL0IsRUFBRWdDLFFBQVFDLFFBRWpCQyxFQUFTQyxXQUFZcEIsRUFBR0UsU0FBUyxZQUFlRixFQUFHRSxTQUFTLFdBSzNEWSxlQUFlTyxLQUFPYixjQUFnQlIsRUFBR1MsWUFBVyxHQUFTTyxXQUNoRUcsRUFBU0csY0FBZ0IsUUFFdEJSLGVBQWVPLEtBQU9yQixFQUFHUyxZQUFXLEdBQVMsSUFDaERVLEVBQVNHLGNBQWdCLFNBR0ksVUFBM0JILEVBQVNHLGNBQ1hoQixPQUFTTSxZQUFZUyxLQUFPckIsRUFBR1MsWUFBVyxHQUcxQ0gsT0FBU00sWUFBWVMsS0FBT2IsY0FFN0JELE1BQVFLLFlBQVlXLE1BakJwQmpCLE9BQVNNLFlBQVlTLEtBQ3JCZCxNQUFRSyxZQUFZVyxJQUFNYixnQkFtQjNCVixFQUFHVCxTQUFTLFVBQVVpQyxLQUNyQlgsU0FBYSxXQUNiWSxVQUFZLE1BQ1pKLEtBQVNmLE9BQ1RpQixJQUFRaEIsU0FJVixRQUFTVCxHQUFTQyxHQUNqQkEsRUFBRTJCLGtCQUVGekMsRUFBRVMsTUFBTUYsS0FBSyxhQUFhYSxZQUFZLFVBSXZDLFFBQVNWLEdBQWNnQyxFQUFVQyxHQUNoQ0QsRUFBU0UsU0FBUyxNQUFNQSxTQUFTLE1BQU1wQyxLQUFLLFdBQzNDUixFQUFFUyxNQUFNSCxTQUFTLFNBQVdxQyxHQUM1QmpDLEVBQWNWLEVBQUVTLE1BQVFrQyxFQUFLLEtBSS9CLFFBQVNFLEdBQVNDLEdBQzRDLElBQTFEOUMsRUFBRThDLEVBQU1DLFFBQVFDLFFBQVEsdUJBQXVCQyxRQUNqRGpELEVBQUUsdUJBQXVCTyxLQUFLLGFBQWFhLFlBQVksVUF2RnpELEdBQUljLEdBQVdsQyxFQUFFa0QsUUFDaEJmLFVBQWEsRUFDYmdCLFdBQWMsRUFDZGQsY0FBa0IsU0FDaEJsQyxFQXlGSCxPQUZBSCxHQUFFLGNBQWNXLEdBQUcsUUFBU2tDLEdBRXJCcEMsS0FBS0QsS0FBSyxXQUNoQkosRUFBYUosRUFBRVMsV0FJZDJDIiwiZmlsZSI6Imx1bmEtbWVudS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCl7XG5cdCQuZm4ubHVuYU1lbnUgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHRcdHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKCB7XG5cdFx0XHQndmVydGljYWwnIDogdHJ1ZSxcblx0XHRcdCdtb3VzZW92ZXInIDogdHJ1ZSxcblx0XHRcdCdvcGVuRGlyZWN0aW9uJyA6ICdyaWdodCdcblx0XHR9LCBvcHRpb25zKTtcblxuXHRcdC8qIFNldCBzdGFydCBjbGFzc2VzIGZvciByb290IFVMIGFuZCBjaGlsZCAqL1xuXHRcdGZ1bmN0aW9uIGluaXRMdW5hTWVudShlbCl7XG5cdFx0XHRlbC5hZGRDbGFzcygncm9vdCcpO1xuXHRcdFx0ZWwuYWRkQ2xhc3MoJ2x1bmEtbWVudS1kcm9wZG93bicpO1xuXG5cdFx0XHQvKiBzZXQgY2xhc3MgXCJzdWJtZW51XCIgZm9yIGFsbCBjaGlsZHMgVUwgKi9cblx0XHRcdGVsLmZpbmQoJ3VsJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdzdWJtZW51Jyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Lyogc2V0IGxldmVscyB0byBhbGwgY2hpbGRyZW5zICovXG5cdFx0XHRzZXRDaGlsZExldmVsKGVsLCAxKTtcblxuXHRcdFx0Lyogc2V0IGNoaWxkIEpTIGxpc3RlbmVycyAqL1xuXHRcdFx0ZWwuZmluZCgnbGknKS5vbignbW91c2VvdmVyJywgTW91c2VPdmVyKTtcblx0XHRcdGVsLmZpbmQoJ2xpJykub24oJ21vdXNlb3V0JywgTW91c2VPdXQpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIE1vdXNlT3ZlcihlKXtcblxuXHRcdFx0dmFyIHVsID0gJCh0aGlzKS5maW5kKCd1bCcpLmZpcnN0KCk7XG5cblx0XHRcdGlmKHVsLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuO1xuXG5cdFx0XHRpZigkKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCdyb290Jykpe1xuXHRcdFx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5yb290JykuZmluZCgndWwuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0fVxuXG5cdFx0XHR1bExlZnQgPSAwO1xuXHRcdFx0dWxUb3AgPSAwO1xuXHRcdFx0cGFyZW50RWxXaWR0aCA9ICQodGhpcykub3V0ZXJXaWR0aCh0cnVlKTtcblx0XHRcdHBhcmVudEVsSGVpZ2h0ID0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcblx0XHRcdHBhcmVudEVsUG9zID0gJCh0aGlzKS5wb3NpdGlvbigpO1xuXHRcdFx0cGFyZW50RWxPZmZlc3QgPSAkKHRoaXMpLm9mZnNldCgpO1xuXHRcdFx0d2luV2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcblxuXHRcdFx0aWYoIXNldHRpbmdzLnZlcnRpY2FsICYmIHVsLmhhc0NsYXNzKCdsZXZlbC0xJykgJiYgIXVsLmhhc0NsYXNzKCdhY3RpdmUnKSl7XG5cdFx0XHRcdHVsTGVmdCA9IHBhcmVudEVsUG9zLmxlZnQ7XG5cdFx0XHRcdHVsVG9wID0gcGFyZW50RWxQb3MudG9wICsgcGFyZW50RWxIZWlnaHQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNle1xuXHRcdFx0XHRpZigocGFyZW50RWxPZmZlc3QubGVmdCArIHBhcmVudEVsV2lkdGggKyB1bC5vdXRlcldpZHRoKHRydWUpKSA+IHdpbldpZHRoKXtcblx0XHRcdFx0XHRzZXR0aW5ncy5vcGVuRGlyZWN0aW9uID0gJ2xlZnQnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKChwYXJlbnRFbE9mZmVzdC5sZWZ0IC0gdWwub3V0ZXJXaWR0aCh0cnVlKSkgPCAwKXtcblx0XHRcdFx0XHRzZXR0aW5ncy5vcGVuRGlyZWN0aW9uID0gJ3JpZ2h0Jztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKHNldHRpbmdzLm9wZW5EaXJlY3Rpb24gIT09ICdyaWdodCcpe1xuXHRcdFx0XHRcdHVsTGVmdCA9IHBhcmVudEVsUG9zLmxlZnQgLSB1bC5vdXRlcldpZHRoKHRydWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdHVsTGVmdCA9IHBhcmVudEVsUG9zLmxlZnQgKyBwYXJlbnRFbFdpZHRoO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHVsVG9wID0gcGFyZW50RWxQb3MudG9wO1xuXHRcdFx0fVxuXG5cdFx0XHR1bC5hZGRDbGFzcygnYWN0aXZlJykuY3NzKHtcblx0XHRcdFx0J3Bvc2l0aW9uJyA6ICdhYnNvbHV0ZScsXG5cdFx0XHRcdCd6LWluZGV4JyA6ICc5MDAnLFxuXHRcdFx0XHQnbGVmdCcgOiB1bExlZnQsXG5cdFx0XHRcdCd0b3AnIDogdWxUb3Bcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIE1vdXNlT3V0KGUpe1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdFx0JCh0aGlzKS5maW5kKCd1bC5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0fVxuXG5cdFx0Lyogc2V0IGxldmVsIGNsYXNzICovXG5cdFx0ZnVuY3Rpb24gc2V0Q2hpbGRMZXZlbChlbGVtZW50cywgbHZsKXtcblx0XHRcdGVsZW1lbnRzLmNoaWxkcmVuKCdsaScpLmNoaWxkcmVuKCd1bCcpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnbGV2ZWwtJyArIGx2bCk7XG5cdFx0XHRcdHNldENoaWxkTGV2ZWwoJCh0aGlzKSwgKGx2bCsgMSkpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYW55Q2xpY2soZXZlbnQpe1xuXHRcdFx0aWYoJChldmVudC50YXJnZXQpLnBhcmVudHMoJy5sdW5hLW1lbnUtZHJvcGRvd24nKS5sZW5ndGggPT09IDApe1xuXHRcdFx0XHQkKFwiLmx1bmEtbWVudS1kcm9wZG93blwiKS5maW5kKCd1bC5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdCQoXCJib2R5LCBodG1sXCIpLm9uKCdjbGljaycsIGFueUNsaWNrKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpbml0THVuYU1lbnUoJCh0aGlzKSk7XG5cdFx0fSk7XG5cblx0fTtcbn0pKCBqUXVlcnkgKTsiXX0=
