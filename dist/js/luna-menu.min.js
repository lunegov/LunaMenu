!function(t){t.fn.lunaMenu=function(e){function i(e){e.addClass("root"),e.addClass("luna-menu-dropdown"),e.find("ul").each(function(){t(this).addClass("submenu")}),s(e,1),e.find("li").on("mouseover",n),e.find("li").on("mouseout",o)}function n(e){var i=t(this).find("ul").first();i.hasClass("active")||(t(this).parent().hasClass("root")&&t(this).closest(".root").find("ul.active").removeClass("active"),ulLeft=0,ulTop=0,parentElWidth=t(this).outerWidth(!0),parentElHeight=t(this).outerHeight(!0),parentElPos=t(this).position(),parentElOffest=t(this).offset(),winWidth=t(window).width(),a.vertical||!i.hasClass("level-1")||i.hasClass("active")?(parentElOffest.left+parentElWidth+i.outerWidth(!0)>winWidth&&(a.openDirection="left"),parentElOffest.left-i.outerWidth(!0)<0&&(a.openDirection="right"),"right"!==a.openDirection?ulLeft=parentElPos.left-i.outerWidth(!0):ulLeft=parentElPos.left+parentElWidth,ulTop=parentElPos.top):(ulLeft=parentElPos.left,ulTop=parentElPos.top+parentElHeight),t(this).addClass("active"),i.addClass("active").css({position:"absolute","z-index":"900",left:ulLeft,top:ulTop}))}function o(e){e.stopPropagation(),t(this).removeClass("active"),t(this).find("ul.active").removeClass("active")}function s(e,i){e.children("li").children("ul").each(function(){t(this).addClass("level-"+i),s(t(this),i+1)})}function l(e){0===t(e.target).parents(".luna-menu-dropdown").length&&t(".luna-menu-dropdown").find("ul.active").removeClass("active")}var a=t.extend({vertical:!0,mouseover:!0,openDirection:"right"},e);return t("body, html").on("click",l),this.each(function(){i(t(this))})}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImx1bmEtbWVudS5taW4uanMiXSwibmFtZXMiOlsiJCIsImZuIiwibHVuYU1lbnUiLCJvcHRpb25zIiwiaW5pdEx1bmFNZW51IiwiZWwiLCJhZGRDbGFzcyIsImZpbmQiLCJlYWNoIiwidGhpcyIsInNldENoaWxkTGV2ZWwiLCJvbiIsIk1vdXNlT3ZlciIsIk1vdXNlT3V0IiwiZSIsInVsIiwiZmlyc3QiLCJoYXNDbGFzcyIsInBhcmVudCIsImNsb3Nlc3QiLCJyZW1vdmVDbGFzcyIsInVsTGVmdCIsInVsVG9wIiwicGFyZW50RWxXaWR0aCIsIm91dGVyV2lkdGgiLCJwYXJlbnRFbEhlaWdodCIsIm91dGVySGVpZ2h0IiwicGFyZW50RWxQb3MiLCJwb3NpdGlvbiIsInBhcmVudEVsT2ZmZXN0Iiwib2Zmc2V0Iiwid2luV2lkdGgiLCJ3aW5kb3ciLCJ3aWR0aCIsInNldHRpbmdzIiwidmVydGljYWwiLCJsZWZ0Iiwib3BlbkRpcmVjdGlvbiIsInRvcCIsImNzcyIsInotaW5kZXgiLCJzdG9wUHJvcGFnYXRpb24iLCJlbGVtZW50cyIsImx2bCIsImNoaWxkcmVuIiwiYW55Q2xpY2siLCJldmVudCIsInRhcmdldCIsInBhcmVudHMiLCJsZW5ndGgiLCJleHRlbmQiLCJtb3VzZW92ZXIiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBQ1RBLEVBQUVDLEdBQUdDLFNBQVcsU0FBVUMsR0FTekIsUUFBU0MsR0FBYUMsR0FDckJBLEVBQUdDLFNBQVMsUUFDWkQsRUFBR0MsU0FBUyxzQkFHWkQsRUFBR0UsS0FBSyxNQUFNQyxLQUFLLFdBQ2xCUixFQUFFUyxNQUFNSCxTQUFTLGFBSWxCSSxFQUFjTCxFQUFJLEdBR2xCQSxFQUFHRSxLQUFLLE1BQU1JLEdBQUcsWUFBYUMsR0FDOUJQLEVBQUdFLEtBQUssTUFBTUksR0FBRyxXQUFZRSxHQUc5QixRQUFTRCxHQUFVRSxHQUVsQixHQUFJQyxHQUFLZixFQUFFUyxNQUFNRixLQUFLLE1BQU1TLE9BRXpCRCxHQUFHRSxTQUFTLFlBRVpqQixFQUFFUyxNQUFNUyxTQUFTRCxTQUFTLFNBQzVCakIsRUFBRVMsTUFBTVUsUUFBUSxTQUFTWixLQUFLLGFBQWFhLFlBQVksVUFHeERDLE9BQVMsRUFDVEMsTUFBUSxFQUNSQyxjQUFnQnZCLEVBQUVTLE1BQU1lLFlBQVcsR0FDbkNDLGVBQWlCekIsRUFBRVMsTUFBTWlCLGFBQVksR0FDckNDLFlBQWMzQixFQUFFUyxNQUFNbUIsV0FDdEJDLGVBQWlCN0IsRUFBRVMsTUFBTXFCLFNBQ3pCQyxTQUFXL0IsRUFBRWdDLFFBQVFDLFFBRWpCQyxFQUFTQyxXQUFZcEIsRUFBR0UsU0FBUyxZQUFlRixFQUFHRSxTQUFTLFdBSzNEWSxlQUFlTyxLQUFPYixjQUFnQlIsRUFBR1MsWUFBVyxHQUFTTyxXQUNoRUcsRUFBU0csY0FBZ0IsUUFFdEJSLGVBQWVPLEtBQU9yQixFQUFHUyxZQUFXLEdBQVMsSUFDaERVLEVBQVNHLGNBQWdCLFNBR0ksVUFBM0JILEVBQVNHLGNBQ1hoQixPQUFTTSxZQUFZUyxLQUFPckIsRUFBR1MsWUFBVyxHQUcxQ0gsT0FBU00sWUFBWVMsS0FBT2IsY0FFN0JELE1BQVFLLFlBQVlXLE1BakJwQmpCLE9BQVNNLFlBQVlTLEtBQ3JCZCxNQUFRSyxZQUFZVyxJQUFNYixnQkFrQjNCekIsRUFBRVMsTUFBTUgsU0FBUyxVQUNqQlMsRUFBR1QsU0FBUyxVQUFVaUMsS0FDckJYLFNBQWEsV0FDYlksVUFBWSxNQUNaSixLQUFTZixPQUNUaUIsSUFBUWhCLFNBSVYsUUFBU1QsR0FBU0MsR0FDakJBLEVBQUUyQixrQkFDRnpDLEVBQUVTLE1BQU1XLFlBQVksVUFDcEJwQixFQUFFUyxNQUFNRixLQUFLLGFBQWFhLFlBQVksVUFJdkMsUUFBU1YsR0FBY2dDLEVBQVVDLEdBQ2hDRCxFQUFTRSxTQUFTLE1BQU1BLFNBQVMsTUFBTXBDLEtBQUssV0FDM0NSLEVBQUVTLE1BQU1ILFNBQVMsU0FBV3FDLEdBQzVCakMsRUFBY1YsRUFBRVMsTUFBUWtDLEVBQUssS0FJL0IsUUFBU0UsR0FBU0MsR0FDNEMsSUFBMUQ5QyxFQUFFOEMsRUFBTUMsUUFBUUMsUUFBUSx1QkFBdUJDLFFBQ2pEakQsRUFBRSx1QkFBdUJPLEtBQUssYUFBYWEsWUFBWSxVQXZGekQsR0FBSWMsR0FBV2xDLEVBQUVrRCxRQUNoQmYsVUFBYSxFQUNiZ0IsV0FBYyxFQUNkZCxjQUFrQixTQUNoQmxDLEVBeUZILE9BRkFILEdBQUUsY0FBY1csR0FBRyxRQUFTa0MsR0FFckJwQyxLQUFLRCxLQUFLLFdBQ2hCSixFQUFhSixFQUFFUyxXQUlkMkMiLCJmaWxlIjoibHVuYS1tZW51Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKXtcblx0JC5mbi5sdW5hTWVudSA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0dmFyIHNldHRpbmdzID0gJC5leHRlbmQoIHtcblx0XHRcdCd2ZXJ0aWNhbCcgOiB0cnVlLFxuXHRcdFx0J21vdXNlb3ZlcicgOiB0cnVlLFxuXHRcdFx0J29wZW5EaXJlY3Rpb24nIDogJ3JpZ2h0J1xuXHRcdH0sIG9wdGlvbnMpO1xuXG5cdFx0LyogU2V0IHN0YXJ0IGNsYXNzZXMgZm9yIHJvb3QgVUwgYW5kIGNoaWxkICovXG5cdFx0ZnVuY3Rpb24gaW5pdEx1bmFNZW51KGVsKXtcblx0XHRcdGVsLmFkZENsYXNzKCdyb290Jyk7XG5cdFx0XHRlbC5hZGRDbGFzcygnbHVuYS1tZW51LWRyb3Bkb3duJyk7XG5cblx0XHRcdC8qIHNldCBjbGFzcyBcInN1Ym1lbnVcIiBmb3IgYWxsIGNoaWxkcyBVTCAqL1xuXHRcdFx0ZWwuZmluZCgndWwnKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3N1Ym1lbnUnKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvKiBzZXQgbGV2ZWxzIHRvIGFsbCBjaGlsZHJlbnMgKi9cblx0XHRcdHNldENoaWxkTGV2ZWwoZWwsIDEpO1xuXG5cdFx0XHQvKiBzZXQgY2hpbGQgSlMgbGlzdGVuZXJzICovXG5cdFx0XHRlbC5maW5kKCdsaScpLm9uKCdtb3VzZW92ZXInLCBNb3VzZU92ZXIpO1xuXHRcdFx0ZWwuZmluZCgnbGknKS5vbignbW91c2VvdXQnLCBNb3VzZU91dCk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gTW91c2VPdmVyKGUpe1xuXG5cdFx0XHR2YXIgdWwgPSAkKHRoaXMpLmZpbmQoJ3VsJykuZmlyc3QoKTtcblxuXHRcdFx0aWYodWwuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm47XG5cblx0XHRcdGlmKCQodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoJ3Jvb3QnKSl7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLnJvb3QnKS5maW5kKCd1bC5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHR9XG5cblx0XHRcdHVsTGVmdCA9IDA7XG5cdFx0XHR1bFRvcCA9IDA7XG5cdFx0XHRwYXJlbnRFbFdpZHRoID0gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpO1xuXHRcdFx0cGFyZW50RWxIZWlnaHQgPSAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xuXHRcdFx0cGFyZW50RWxQb3MgPSAkKHRoaXMpLnBvc2l0aW9uKCk7XG5cdFx0XHRwYXJlbnRFbE9mZmVzdCA9ICQodGhpcykub2Zmc2V0KCk7XG5cdFx0XHR3aW5XaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xuXG5cdFx0XHRpZighc2V0dGluZ3MudmVydGljYWwgJiYgdWwuaGFzQ2xhc3MoJ2xldmVsLTEnKSAmJiAhdWwuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcblx0XHRcdFx0dWxMZWZ0ID0gcGFyZW50RWxQb3MubGVmdDtcblx0XHRcdFx0dWxUb3AgPSBwYXJlbnRFbFBvcy50b3AgKyBwYXJlbnRFbEhlaWdodDtcblx0XHRcdH1cblx0XHRcdGVsc2V7XG5cdFx0XHRcdGlmKChwYXJlbnRFbE9mZmVzdC5sZWZ0ICsgcGFyZW50RWxXaWR0aCArIHVsLm91dGVyV2lkdGgodHJ1ZSkpID4gd2luV2lkdGgpe1xuXHRcdFx0XHRcdHNldHRpbmdzLm9wZW5EaXJlY3Rpb24gPSAnbGVmdCc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYoKHBhcmVudEVsT2ZmZXN0LmxlZnQgLSB1bC5vdXRlcldpZHRoKHRydWUpKSA8IDApe1xuXHRcdFx0XHRcdHNldHRpbmdzLm9wZW5EaXJlY3Rpb24gPSAncmlnaHQnO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoc2V0dGluZ3Mub3BlbkRpcmVjdGlvbiAhPT0gJ3JpZ2h0Jyl7XG5cdFx0XHRcdFx0dWxMZWZ0ID0gcGFyZW50RWxQb3MubGVmdCAtIHVsLm91dGVyV2lkdGgodHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0dWxMZWZ0ID0gcGFyZW50RWxQb3MubGVmdCArIHBhcmVudEVsV2lkdGg7XG5cdFx0XHRcdH1cblx0XHRcdFx0dWxUb3AgPSBwYXJlbnRFbFBvcy50b3A7XG5cdFx0XHR9XG5cdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblx0XHRcdHVsLmFkZENsYXNzKCdhY3RpdmUnKS5jc3Moe1xuXHRcdFx0XHQncG9zaXRpb24nIDogJ2Fic29sdXRlJyxcblx0XHRcdFx0J3otaW5kZXgnIDogJzkwMCcsXG5cdFx0XHRcdCdsZWZ0JyA6IHVsTGVmdCxcblx0XHRcdFx0J3RvcCcgOiB1bFRvcFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gTW91c2VPdXQoZSl7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdFx0XHQkKHRoaXMpLmZpbmQoJ3VsLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHR9XG5cblx0XHQvKiBzZXQgbGV2ZWwgY2xhc3MgKi9cblx0XHRmdW5jdGlvbiBzZXRDaGlsZExldmVsKGVsZW1lbnRzLCBsdmwpe1xuXHRcdFx0ZWxlbWVudHMuY2hpbGRyZW4oJ2xpJykuY2hpbGRyZW4oJ3VsJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdsZXZlbC0nICsgbHZsKTtcblx0XHRcdFx0c2V0Q2hpbGRMZXZlbCgkKHRoaXMpLCAobHZsKyAxKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBhbnlDbGljayhldmVudCl7XG5cdFx0XHRpZigkKGV2ZW50LnRhcmdldCkucGFyZW50cygnLmx1bmEtbWVudS1kcm9wZG93bicpLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdCQoXCIubHVuYS1tZW51LWRyb3Bkb3duXCIpLmZpbmQoJ3VsLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0JChcImJvZHksIGh0bWxcIikub24oJ2NsaWNrJywgYW55Q2xpY2spO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGluaXRMdW5hTWVudSgkKHRoaXMpKTtcblx0XHR9KTtcblxuXHR9O1xufSkoIGpRdWVyeSApOyJdfQ==
